"use strict";angular.module("BookShop",["ui.router","ui.bootstrap","ngStorage","ngToast","ngMessages","angular-loading-bar"]).config(["$logProvider","$compileProvider","$urlRouterProvider","$locationProvider","cfpLoadingBarProvider",function(o,t,e,n,r){e.otherwise("/"),o.debugEnabled(!1),n.html5Mode(!0),r.includeSpinner=!1,t.debugInfoEnabled(!1)}]).controller("AppCtrl",["$scope","$localStorage","$location","$sessionStorage",function(o,t,e,n){o.$on("$stateChangeSuccess",function(t,e,n,r,a){angular.isDefined(e.data.pageTitle)&&(o.pageTitle=e.data.pageTitle)})}]),angular.module("BookShop").config(["$stateProvider",function(o){o.state("home.grid",{url:"/",controller:"GridCtrl as vm",templateUrl:"app/grid/grid.html",data:{pageTitle:"Home"}})}]).controller("GridCtrl",["$scope","$state","$rootScope","BookData",function(o,t,e,n){var r=this;r.bookSearch=function(o){if(""!==o){var t={string:o,books:n.books()};o.toLowerCase().match("^ol")&&/\d/.test(o)?n.getBookByOLID(t).then(function(o){r.books=o}):n.getBookByTitle(t).then(function(o){r.books=o})}else r.books=n.books()},r.checkStr=function(){""!==r.search||(r.books=n.books())},r.promise=n.getBooks().then(function(o){r.books=o,r.books.forEach(function(o){o.info.authors&&o.info.authors[0].name?o.author="by "+o.info.authors[0].name:o.author=o.info.by_statement})})}]),angular.module("BookShop").config(["$stateProvider",function(o){o.state("home",{controller:"HomeCtrl as vm",templateUrl:"app/home/home.html",data:{pageTitle:"Home"}})}]).controller("HomeCtrl",["$scope","$state","$rootScope",function(o,t,e){}]),function(){function o(o,t,e,n,r){var a="/api/v1/",i=[];return{getBooks:function(){return o.get(a+"getBooks").then(function(o){return i=o.data})},getBookByOLID:function(t){return o.post(a+"getBookByOLID",t).then(function(o){return o.data})},getBookByTitle:function(t){return o.post(a+"getBookByTitle",t).then(function(o){return o.data})},books:function(){return i}}}o.$inject=["$http","$localStorage","$q","$rootScope","ngToast"],angular.module("BookShop").factory("BookData",o)}();